<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Javascript Quiz</title>
      <link rel="stylesheet" href="stylesheet.css"/>
      <script type="text/javascript">

      //position of either question and index
      var position = 0;
      var correct = 0;
      var score = 0;

      var question, test, test_status, correctAnswer, answers, choiceA, choiceB, choiceC;

      var questions = [
        ["What is the next number in this sequence:<br> 2, 4, 6, __, 10?", "7","8","9","B"],
        ["Which fictional city is the home of Batman?","Gotham City","New York City","Queens","A"],
        ["Which is more, 2 cups or 1 pint?", "2 cups","1 pint", "neither; they are equal", "C"],
        ["What is the largest ocean in the world?", "Atlantic", "Indian", "Pacific", "C"],
        ["What is 1+1?", "Don't pick me", "2", "Go back up", "B"]
      ];
      
      //shortcut to using getElementById
      function get(x) {
        return document.getElementById(x);
      }

      function renderQuestion() {
        test = get("test");

  if (correct == 0) {
    score = 0;
    test.innerHTML = "<h2>" + correct + " questions correct</h2>";
  }

  if (correct == 1) {
    score = 20;
    test.innerHTML = "<h2>" + correct + " questions correct</h2>";
  }

  if (correct == 2) {
    score = 40;
    test.innerHTML = "<h2>" + correct + " questions correct</h2>";
  }

  if (correct == 3) {
    score = 60;
    test.innerHTML = "<h2>" + correct + " questions correct</h2>";
  }

  if (correct == 4) {
    score = 80;
    test.innerHTML = "<h2>" + correct + " questions correct</h2>";
  }

  if (correct == 5) {
    score = 100;
    test.innerHTML = "<h2>" + correct + " questions correct</h2>";
  }

        if (position >= questions.length) {
          test.innerHTML = "<h2>You got " + correct + " of " + questions.length + " questions correct</h2>";
          test.innerHTML = "<h2>You scored " + score + "% </h2>";
          test.innerHTML+= "<button onclick='renderQuestion()'>Retake</button>";
          get("test_status").innerHTML = "Test Completed";

          position = 0;
          correct = 0;

              return false;

  }


        get("test_status").innerHTML = "Question " + (position+1) + " of " + questions.length;
        //array from above positions
          question = questions[position][0];
          choiceA = questions[position][1];
          choiceB = questions[position][2];
          choiceC = questions[position][3];

          test.innerHTML+="<h3>"+question+"</h3>";

          test.innerHTML+="<input type='radio' name='answers' value='A'> "+choiceA+"<br>";
          test.innerHTML+="<input type='radio' name='answers' value='B'> "+choiceB+"<br>";
          test.innerHTML+="<input type='radio' name='answers' value='C'> "+choiceC+"<br><br>";

          test.innerHTML+="<button onclick='checkAnswer()'>Submit Answer</button>";
  }

      function checkAnswer(){
        answers = document.getElementsByName("answers");
        for (var i=0; i<answers.length; i++) {
          if (answers[i].checked) {
            correctAnswer = answers[i].value;
          }
        }

        if (correctAnswer == questions[position][4]) {
          correct++;

        }

        position++;
        renderQuestion();

      }

      window.addEventListener("load", renderQuestion);

      </script>

  </head>
  <body>
    <h1> Javascript Quiz </h1>

  <p>This is a simple interactive javascript quiz. 5 multiple choice questions
    that range from a variety of topics. Questions and answers are stored in an array.
    Progress bar, helps keep track of your current position. Score is kept right below.
    80% is considered passing. Didn't pass? Just retake our quiz at the end.
    Click an answer below to start quiz!<br></p>

    <h2 id="test_status"></h2>
    <div id="test"></div>

  </body>
</html>
